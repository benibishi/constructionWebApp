<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BuildMaster - Construction Management</title>
    <link rel="stylesheet" href="css/dashboard.css">
    <link rel="stylesheet" href="css/styles.css">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>

<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-brand">
            <i class="fas fa-hard-hat"></i>
            <span>BuildMaster</span>
        </div>
        <div class="nav-menu">
            <a href="#" class="nav-link active" data-tab="dashboard">
                <i class="fas fa-tachometer-alt"></i>
                <span>Dashboard</span>
            </a>
            <a href="#" class="nav-link" data-tab="projects">
                <i class="fas fa-project-diagram"></i>
                <span>Projects</span>
            </a>
            <a href="#" class="nav-link" data-tab="tasks">
                <i class="fas fa-tasks"></i>
                <span>Tasks</span>
            </a>
            <a href="#" class="nav-link" data-tab="calendar">
                <i class="fas fa-calendar-alt"></i>
                <span>Calendar</span>
            </a>
            <!-- Add to the navigation menu -->
            <!-- New Combined Reports Tab with Dropdown -->
            <div class="nav-dropdown">
                <a href="#" class="nav-link" data-tab="reports">
                    <i class="fas fa-file-alt"></i> <!-- You can choose a suitable icon -->
                    <span>Reports</span>
                    <i class="fas fa-caret-down" style="margin-left: auto;"></i> <!-- Dropdown indicator -->
                </a>
                <div class="nav-dropdown-menu">
                    <a href="#" class="nav-dropdown-item" data-subtab="daily-reports">Daily Reports</a>
                    <a href="#" class="nav-dropdown-item" data-subtab="weekly-reports">Weekly Reports</a>
                    <a href="#" class="nav-dropdown-item" data-subtab="visual-analytics">Visual Analytics</a>
                </div>
            </div>
            <!-- End Combined Reports Tab -->
            <a href="#" class="nav-link" data-tab="documents">
                <i class="fas fa-file-alt"></i>
                <span>Documents</span>
            </a>
            <a href="#" class="nav-link" data-tab="team">
                <i class="fas fa-users"></i>
                <span>Team</span>
            </a>
        </div>
        <div class="nav-user">
            <div class="notification-bell" id="notificationBell">
                <i class="fas fa-bell"></i>
                <span class="notification-badge" id="notificationCount" style="display: flex;">151</span>
            </div>
            <img src="https://ui-avatars.com/api/?name=Admin+User&amp;background=random" alt="User">
            <span>Admin User</span>
        </div>
    </nav>

    <!-- Notification Dropdown -->
    <div class="notification-dropdown" id="notificationDropdown">
        <div class="notification-header">
            <h3>Notifications</h3>
            <button class="btn btn-outline btn-sm" id="markAllRead">Mark All as Read</button>
        </div>
        <div class="notification-list" id="notificationList">
            <div class="notification-item unread" onclick="handleNotificationClick(1755404450814, 2)">
                <div class="notification-content">
                    <div class="notification-icon icon-task-due">
                        <i class="fas fa-exclamation-circle"></i>
                    </div>
                    <div class="notification-text">
                        <h4>Steel Framework Installation is overdue</h4>
                        <div class="notification-meta">
                            <span>1 day ago</span>
                            <span class="text-danger">high</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="notification-item unread" onclick="handleNotificationClick(1, 1)">
                <div class="notification-content">
                    <div class="notification-icon icon-task-due">
                        <i class="fas fa-exclamation-circle"></i>
                    </div>
                    <div class="notification-text">
                        <h4>Foundation Excavation is due today</h4>
                        <div class="notification-meta">
                            <span>1 day ago</span>
                            <span class="text-danger">high</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="notification-item unread" onclick="handleNotificationClick(2, 3)">
                <div class="notification-content">
                    <div class="notification-icon icon-task-completed">
                        <i class="fas fa-check-circle"></i>
                    </div>
                    <div class="notification-text">
                        <h4>Site Preparation has been completed</h4>
                        <div class="notification-meta">
                            <span>2 days ago</span>
                            <span class="text-warning">medium</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="notification-footer">
            <a href="#" onclick="viewAllNotifications()">View All Notifications</a>
        </div>
    </div>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Dashboard Tab -->
        <section id="dashboard" class="tab-content active">
            <div class="page-header">
                <h1>Project Dashboard</h1>
                <button class="btn btn-primary" id="addProjectBtn">
                    <i class="fas fa-plus"></i> New Project
                </button>
            </div>

            <!-- Stats Cards -->
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon bg-blue">
                        <i class="fas fa-project-diagram"></i>
                    </div>
                    <div class="stat-info">
                        <h3 id="totalProjects">5</h3>
                        <p>Total Projects</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon bg-green">
                        <i class="fas fa-check-circle"></i>
                    </div>
                    <div class="stat-info">
                        <h3 id="completedTasks">1</h3>
                        <p>Completed Tasks</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon bg-orange">
                        <i class="fas fa-exclamation-triangle"></i>
                    </div>
                    <div class="stat-info">
                        <h3 id="overdueTasks">4</h3>
                        <p>Overdue Tasks</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon bg-purple">
                        <i class="fas fa-users"></i>
                    </div>
                    <div class="stat-info">
                        <h3 id="teamMembers">3</h3>
                        <p>Team Members</p>
                    </div>
                </div>
            </div>

            <!-- Projects Grid -->
            <div class="section-header">
                <h2>Active Projects</h2>
            </div>
            <div class="projects-grid" id="projectsContainer">
                <div class="project-card" onclick="showProjectDetails(1)" style="cursor: pointer;">
                    <div class="project-header">
                        <h3>Downtown Office Complex</h3>
                        <p>15-story commercial office building in downtown area</p>
                    </div>
                    <div class="project-body">
                        <div class="project-meta">
                            <span><i class="far fa-calendar"></i> Jan 14, 2024</span>
                            <span><i class="far fa-calendar-check"></i> Dec 30, 2024</span>
                        </div>
                        <div class="project-progress">
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 65%; background: #f59e0b"></div>
                            </div>
                            <div class="progress-info">
                                <span>65% Complete</span>
                                <span>Active</span>
                            </div>
                        </div>
                        <span class="project-status status-active">Active</span>
                    </div>
                    <div class="project-actions">
                        <button class="btn btn-outline" onclick="editProject(1); event.stopPropagation();">
                            <i class="fas fa-edit"></i> Edit
                        </button>
                    </div>
                </div>

                <div class="project-card" onclick="showProjectDetails(2)" style="cursor: pointer;">
                    <div class="project-header">
                        <h3>Residential Housing Development</h3>
                        <p>40-unit apartment complex with underground parking</p>
                    </div>
                    <div class="project-body">
                        <div class="project-meta">
                            <span><i class="far fa-calendar"></i> Jan 31, 2024</span>
                            <span><i class="far fa-calendar-check"></i> Nov 29, 2024</span>
                        </div>
                        <div class="project-progress">
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 45%; background: #f59e0b"></div>
                            </div>
                            <div class="progress-info">
                                <span>45% Complete</span>
                                <span>Active</span>
                            </div>
                        </div>
                        <span class="project-status status-active">Active</span>
                    </div>
                    <div class="project-actions">
                        <button class="btn btn-outline" onclick="editProject(2); event.stopPropagation();">
                            <i class="fas fa-edit"></i> Edit
                        </button>
                    </div>
                </div>

                <div class="project-card" onclick="showProjectDetails(3)" style="cursor: pointer;">
                    <div class="project-header">
                        <h3>Highway Infrastructure Upgrade</h3>
                        <p>Major highway expansion and bridge construction</p>
                    </div>
                    <div class="project-body">
                        <div class="project-meta">
                            <span><i class="far fa-calendar"></i> Sep 30, 2023</span>
                            <span><i class="far fa-calendar-check"></i> Aug 30, 2024</span>
                        </div>
                        <div class="project-progress">
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 0%; background: #ef4444"></div>
                            </div>
                            <div class="progress-info">
                                <span>0% Complete</span>
                                <span>Active</span>
                            </div>
                        </div>
                        <span class="project-status status-active">Active</span>
                    </div>
                    <div class="project-actions">
                        <button class="btn btn-outline" onclick="editProject(3); event.stopPropagation();">
                            <i class="fas fa-edit"></i> Edit
                        </button>
                    </div>
                </div>

                <div class="project-card" onclick="showProjectDetails(1755445560544)" style="cursor: pointer;">
                    <div class="project-header">
                        <h3>Building 5 livingston north</h3>
                        <p>kimi k2. the best building services and thebuilder in the whole world</p>
                    </div>
                    <div class="project-body">
                        <div class="project-meta">
                            <span><i class="far fa-calendar"></i> Sep 30, 2025</span>
                            <span><i class="far fa-calendar-check"></i> Dec 30, 2025</span>
                        </div>
                        <div class="project-progress">
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 0%; background: #ef4444"></div>
                            </div>
                            <div class="progress-info">
                                <span>0% Complete</span>
                                <span>Active</span>
                            </div>
                        </div>
                        <span class="project-status status-active">Active</span>
                    </div>
                    <div class="project-actions">
                        <button class="btn btn-outline" onclick="editProject(1755445560544); event.stopPropagation();">
                            <i class="fas fa-edit"></i> Edit
                        </button>
                    </div>
                </div>

                <div class="project-card" onclick="showProjectDetails(1755445578915)" style="cursor: pointer;">
                    <div class="project-header">
                        <h3>ertwert</h3>
                        <p>sadfgasdfasdfd</p>
                    </div>
                    <div class="project-body">
                        <div class="project-meta">
                            <span><i class="far fa-calendar"></i> Sep 14, 2025</span>
                            <span><i class="far fa-calendar-check"></i> Mar 16, 2026</span>
                        </div>
                        <div class="project-progress">
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 0%; background: #ef4444"></div>
                            </div>
                            <div class="progress-info">
                                <span>0% Complete</span>
                                <span>Active</span>
                            </div>
                        </div>
                        <span class="project-status status-active">Active</span>
                    </div>
                    <div class="project-actions">
                        <button class="btn btn-outline" onclick="editProject(1755445578915); event.stopPropagation();">
                            <i class="fas fa-edit"></i> Edit
                        </button>
                    </div>
                </div>
            </div>

            <!-- Recent Activity -->
            <div class="section-header">
                <h2>Recent Activity</h2>
            </div>
            <div class="activity-feed" id="activityFeed">
                <div class="activity-item">
                    <div class="activity-icon">
                        <i class="fas fa-check-circle"></i>
                    </div>
                    <div class="activity-content">
                        <h4>Foundation Excavation completed</h4>
                        <p>System notification</p>
                    </div>
                    <div class="activity-time">2 hours ago</div>
                </div>

                <div class="activity-item">
                    <div class="activity-icon">
                        <i class="fas fa-user-plus"></i>
                    </div>
                    <div class="activity-content">
                        <h4>Steel Framework Installation assigned to Maria Garcia</h4>
                        <p>System notification</p>
                    </div>
                    <div class="activity-time">1 day ago</div>
                </div>

                <div class="activity-item">
                    <div class="activity-icon">
                        <i class="fas fa-project-diagram"></i>
                    </div>
                    <div class="activity-content">
                        <h4>Downtown Office Complex project created</h4>
                        <p>System notification</p>
                    </div>
                    <div class="activity-time">2 days ago</div>
                </div>
            </div>
        </section>

        <!-- Projects Tab -->
        <section id="projects" class="tab-content">
            <div class="page-header">
                <h1>Projects</h1>
                <button class="btn btn-primary" id="addProjectBtnMain">
                    <i class="fas fa-plus"></i> New Project
                </button>
            </div>
            <!-- Add Project Filters if needed, including Search -->
            <div class="project-filters"> <!-- You might already have a filter div -->
                <!-- Example Search Input (ensure this ID exists or add it) -->
                <input type="text" id="searchProjects" placeholder="Search projects..."
                    style="padding: 0.5rem; border: 1px solid var(--border); border-radius: 0.5rem;">
                <!-- Add other filters (Status, etc.) here if desired -->
            </div>
            <!-- End Project Filters -->
            <!-- Bulk Actions Bar for Projects (Initially Hidden) -->
            <div id="bulkActionsBarProjects" class="bulk-actions-bar"
                style="display: none; margin-bottom: 1rem; padding: 1rem; background-color: var(--light); border: 1px solid var(--border); border-radius: 0.5rem;">
                <div style="display: flex; align-items: center; gap: 1rem;">
                    <input type="checkbox" id="selectAllProjectsCheckbox">
                    <label for="selectAllProjectsCheckbox" style="margin-right: 1rem;">Select All</label>
                    <!-- Example bulk action: Change Status -->
                    <select id="bulkChangeStatusSelect">
                        <option value="">Change Status To...</option>
                        <option value="planning">Planning</option>
                        <option value="active">Active</option>
                        <option value="on-hold">On Hold</option>
                        <option value="completed">Completed</option>
                    </select>
                    <button id="bulkChangeStatusBtn" class="btn btn-outline btn-sm">Apply</button>
                    <button id="bulkDeleteProjectsBtn" class="btn btn-danger btn-sm">
                        <i class="fas fa-trash"></i> Delete Selected
                    </button>
                    <span id="selectedProjectsCount" style="margin-left: auto; font-weight: 500;"></span>
                </div>
            </div>
            <!-- End Bulk Actions Bar for Projects -->
            <!-- Projects List -->
            <div class="projects-container" id="projectsListContainer">
                <div class="project-card" onclick="showProjectDetails(1)" style="cursor: pointer;">
                    <div class="project-header">
                        <h3>Downtown Office Complex</h3>
                        <p>15-story commercial office building in downtown area</p>
                    </div>
                    <div class="project-body">
                        <div class="project-meta">
                            <span><i class="far fa-calendar"></i> Jan 14, 2024</span>
                            <span><i class="far fa-calendar-check"></i> Dec 30, 2024</span>
                        </div>
                        <div class="project-progress">
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 65%; background: #f59e0b"></div>
                            </div>
                            <div class="progress-info">
                                <span>65% Complete</span>
                                <span>Active</span>
                            </div>
                        </div>
                        <span class="project-status status-active">Active</span>
                    </div>
                    <div class="project-actions">
                        <button class="btn btn-outline" onclick="editProject(1); event.stopPropagation();">
                            <i class="fas fa-edit"></i> Edit
                        </button>
                    </div>
                </div>

                <div class="project-card" onclick="showProjectDetails(2)" style="cursor: pointer;">
                    <div class="project-header">
                        <h3>Residential Housing Development</h3>
                        <p>40-unit apartment complex with underground parking</p>
                    </div>
                    <div class="project-body">
                        <div class="project-meta">
                            <span><i class="far fa-calendar"></i> Jan 31, 2024</span>
                            <span><i class="far fa-calendar-check"></i> Nov 29, 2024</span>
                        </div>
                        <div class="project-progress">
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 45%; background: #f59e0b"></div>
                            </div>
                            <div class="progress-info">
                                <span>45% Complete</span>
                                <span>Active</span>
                            </div>
                        </div>
                        <span class="project-status status-active">Active</span>
                    </div>
                    <div class="project-actions">
                        <button class="btn btn-outline" onclick="editProject(2); event.stopPropagation();">
                            <i class="fas fa-edit"></i> Edit
                        </button>
                    </div>
                </div>

                <div class="project-card" onclick="showProjectDetails(3)" style="cursor: pointer;">
                    <div class="project-header">
                        <h3>Highway Infrastructure Upgrade</h3>
                        <p>Major highway expansion and bridge construction</p>
                    </div>
                    <div class="project-body">
                        <div class="project-meta">
                            <span><i class="far fa-calendar"></i> Sep 30, 2023</span>
                            <span><i class="far fa-calendar-check"></i> Aug 30, 2024</span>
                        </div>
                        <div class="project-progress">
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 0%; background: #ef4444"></div>
                            </div>
                            <div class="progress-info">
                                <span>0% Complete</span>
                                <span>Active</span>
                            </div>
                        </div>
                        <span class="project-status status-active">Active</span>
                    </div>
                    <div class="project-actions">
                        <button class="btn btn-outline" onclick="editProject(3); event.stopPropagation();">
                            <i class="fas fa-edit"></i> Edit
                        </button>
                    </div>
                </div>

                <div class="project-card" onclick="showProjectDetails(1755445560544)" style="cursor: pointer;">
                    <div class="project-header">
                        <h3>Building 5 livingston north</h3>
                        <p>kimi k2. the best building services and thebuilder in the whole world</p>
                    </div>
                    <div class="project-body">
                        <div class="project-meta">
                            <span><i class="far fa-calendar"></i> Sep 30, 2025</span>
                            <span><i class="far fa-calendar-check"></i> Dec 30, 2025</span>
                        </div>
                        <div class="project-progress">
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 0%; background: #ef4444"></div>
                            </div>
                            <div class="progress-info">
                                <span>0% Complete</span>
                                <span>Active</span>
                            </div>
                        </div>
                        <span class="project-status status-active">Active</span>
                    </div>
                    <div class="project-actions">
                        <button class="btn btn-outline" onclick="editProject(1755445560544); event.stopPropagation();">
                            <i class="fas fa-edit"></i> Edit
                        </button>
                    </div>
                </div>

                <div class="project-card" onclick="showProjectDetails(1755445578915)" style="cursor: pointer;">
                    <div class="project-header">
                        <h3>ertwert</h3>
                        <p>sadfgasdfasdfd</p>
                    </div>
                    <div class="project-body">
                        <div class="project-meta">
                            <span><i class="far fa-calendar"></i> Sep 14, 2025</span>
                            <span><i class="far fa-calendar-check"></i> Mar 16, 2026</span>
                        </div>
                        <div class="project-progress">
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 0%; background: #ef4444"></div>
                            </div>
                            <div class="progress-info">
                                <span>0% Complete</span>
                                <span>Active</span>
                            </div>
                        </div>
                        <span class="project-status status-active">Active</span>
                    </div>
                    <div class="project-actions">
                        <button class="btn btn-outline" onclick="editProject(1755445578915); event.stopPropagation();">
                            <i class="fas fa-edit"></i> Edit
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Project Details Tab -->
        <section id="project-details" class="tab-content">
            <div class="page-header">
                <div class="header-actions">
                    <button class="btn btn-outline" onclick="goBackToProjects()">
                        <i class="fas fa-arrow-left"></i> Back to Projects
                    </button>
                    <h1 id="projectDetailTitle">Project Details</h1>
                </div>
                <div class="header-actions">
                    <button class="btn btn-outline" id="editProjectDetailBtn">
                        <i class="fas fa-edit"></i> Edit Project
                    </button>
                    <button class="btn btn-primary" id="addTaskToProjectBtn">
                        <i class="fas fa-plus"></i> Add Task
                    </button>
                </div>
            </div>

            <!-- Project Details Content -->
            <div class="project-details-content" id="projectDetailsContent">
                <!-- Project details will be loaded here -->
            </div>
        </section>

        <!-- Tasks Tab -->
        <section id="tasks" class="tab-content">
            <div class="page-header">
                <h1>Task Management</h1>
                <button class="btn btn-primary" id="addTaskBtn">
                    <i class="fas fa-plus"></i> New Task
                </button>
            </div>

            <!-- Task Filters -->
            <div class="task-filters">
                <select id="projectFilter">
                    <option value="">All Projects</option>
                    <option value="1">Downtown Office Complex</option>
                    <option value="2">Residential Housing Development</option>
                    <option value="3">Highway Infrastructure Upgrade</option>
                    <option value="1755445560544">Building 5 livingston north</option>
                    <option value="1755445578915">ertwert</option>
                </select>
                <select id="statusFilter">
                    <option value="">All Statuses</option>
                    <option value="pending">Pending</option>
                    <option value="in-progress">In Progress</option>
                    <option value="completed">Completed</option>
                </select>
                <input type="text" id="searchTasks" placeholder="Search tasks...">
            </div>
            <!-- Bulk Actions Bar (Initially Hidden) -->
            <div id="bulkActionsBar" class="bulk-actions-bar"
                style="display: none; margin-bottom: 1rem; padding: 1rem; background-color: var(--light); border: 1px solid var(--border); border-radius: 0.5rem;">
                <div style="display: flex; align-items: center; gap: 1rem;">
                    <input type="checkbox" id="selectAllCheckbox">
                    <label for="selectAllCheckbox" style="margin-right: 1rem;">Select All</label>
                    <button id="bulkMarkCompleteBtn" class="btn btn-success btn-sm">
                        <i class="fas fa-check"></i> Mark Complete
                    </button>
                    <button id="bulkDeleteBtn" class="btn btn-danger btn-sm">
                        <i class="fas fa-trash"></i> Delete Selected
                    </button>
                    <!-- Add more bulk action buttons here if needed -->
                    <span id="selectedCount" style="margin-left: auto; font-weight: 500;"></span>
                </div>
            </div>
            <!-- End Bulk Actions Bar -->
            <!-- Tasks List -->
            <div class="tasks-container" id="tasksContainer">
                <div class="task-card high" id="task-1">
                    <div class="task-header">
                        <h3 class="task-title">Foundation Excavation</h3>
                        <span class="task-priority priority-high">High</span>
                    </div>
                    <p class="task-description">Excavate foundation for main building structure</p>

                    <div class="task-meta">
                        <span><i class="fas fa-project-diagram"></i> Downtown Office Complex</span>
                        <span><i class="far fa-calendar"></i> Due: Feb 14, 2024</span>
                        <span><i class="fas fa-user"></i> John Smith</span>
                    </div>
                    <div class="task-footer">
                        <span class="task-status status-completed">Completed</span>
                        <div class="task-actions">
                            <button class="btn btn-outline btn-sm" onclick="editTask(1)">
                                <i class="fas fa-edit"></i> Edit
                            </button>
                            <div class="dropdown">
                                <button class="btn btn-outline btn-sm dropdown-toggle" data-task-id="1">
                                    <i class="fas fa-ellipsis-v"></i>
                                </button>
                                <div class="dropdown-menu" id="dropdown-1">
                                    <a href="#" onclick="event.preventDefault(); viewTaskDetails(1)"><i
                                            class="fas fa-eye"></i> View Details</a>
                                    <a href="#" onclick="event.preventDefault(); editTask(1)"><i
                                            class="fas fa-edit"></i> Edit Task</a>
                                    <a href="#" onclick="event.preventDefault(); startTask(1)"><i
                                            class="fas fa-play"></i> Start Task</a>
                                    <a href="#" onclick="event.preventDefault(); completeTask(1)"><i
                                            class="fas fa-check"></i> Mark Complete</a>
                                    <a href="#" onclick="event.preventDefault(); assignTask(1)"><i
                                            class="fas fa-user-plus"></i> Assign</a>
                                    <a href="#" onclick="event.preventDefault(); addTaskComment(1)"><i
                                            class="fas fa-comment"></i> Add Comment</a>
                                    <a href="#" onclick="event.preventDefault(); deleteTask(1)" class="danger"><i
                                            class="fas fa-trash"></i> Delete</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="task-card critical" id="task-2">
                    <div class="task-header">
                        <h3 class="task-title">Steel Framework Installation</h3>
                        <span class="task-priority priority-critical">Critical</span>
                    </div>
                    <p class="task-description">Install steel framework for floors 1-5</p>

                    <div class="task-dependencies">
                        <strong>Depends on:</strong> Foundation Excavation
                    </div>

                    <div class="task-meta">
                        <span><i class="fas fa-project-diagram"></i> Downtown Office Complex</span>
                        <span><i class="far fa-calendar"></i> Due: Mar 29, 2024</span>
                        <span><i class="fas fa-user"></i> Maria Garcia</span>
                    </div>
                    <div class="task-footer">
                        <span class="task-status status-in-progress">In Progress</span>
                        <div class="task-actions">
                            <button class="btn btn-outline btn-sm" onclick="editTask(2)">
                                <i class="fas fa-edit"></i> Edit
                            </button>
                            <div class="dropdown">
                                <button class="btn btn-outline btn-sm dropdown-toggle" data-task-id="2">
                                    <i class="fas fa-ellipsis-v"></i>
                                </button>
                                <div class="dropdown-menu" id="dropdown-2">
                                    <a href="#" onclick="event.preventDefault(); viewTaskDetails(2)"><i
                                            class="fas fa-eye"></i> View Details</a>
                                    <a href="#" onclick="event.preventDefault(); editTask(2)"><i
                                            class="fas fa-edit"></i> Edit Task</a>
                                    <a href="#" onclick="event.preventDefault(); startTask(2)"><i
                                            class="fas fa-play"></i> Start Task</a>
                                    <a href="#" onclick="event.preventDefault(); completeTask(2)"><i
                                            class="fas fa-check"></i> Mark Complete</a>
                                    <a href="#" onclick="event.preventDefault(); assignTask(2)"><i
                                            class="fas fa-user-plus"></i> Assign</a>
                                    <a href="#" onclick="event.preventDefault(); addTaskComment(2)"><i
                                            class="fas fa-comment"></i> Add Comment</a>
                                    <a href="#" onclick="event.preventDefault(); deleteTask(2)" class="danger"><i
                                            class="fas fa-trash"></i> Delete</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="task-card medium" id="task-3">
                    <div class="task-header">
                        <h3 class="task-title">Site Preparation</h3>
                        <span class="task-priority priority-medium">Medium</span>
                    </div>
                    <p class="task-description">Clear and grade construction site</p>

                    <div class="task-meta">
                        <span><i class="fas fa-project-diagram"></i> Residential Housing Development</span>
                        <span><i class="far fa-calendar"></i> Due: Feb 27, 2024</span>
                        <span><i class="fas fa-user"></i> David Johnson</span>
                    </div>
                    <div class="task-footer">
                        <span class="task-status status-in-progress">In Progress</span>
                        <div class="task-actions">
                            <button class="btn btn-outline btn-sm" onclick="editTask(3)">
                                <i class="fas fa-edit"></i> Edit
                            </button>
                            <div class="dropdown">
                                <button class="btn btn-outline btn-sm dropdown-toggle" data-task-id="3">
                                    <i class="fas fa-ellipsis-v"></i>
                                </button>
                                <div class="dropdown-menu" id="dropdown-3">
                                    <a href="#" onclick="event.preventDefault(); viewTaskDetails(3)"><i
                                            class="fas fa-eye"></i> View Details</a>
                                    <a href="#" onclick="event.preventDefault(); editTask(3)"><i
                                            class="fas fa-edit"></i> Edit Task</a>
                                    <a href="#" onclick="event.preventDefault(); startTask(3)"><i
                                            class="fas fa-play"></i> Start Task</a>
                                    <a href="#" onclick="event.preventDefault(); completeTask(3)"><i
                                            class="fas fa-check"></i> Mark Complete</a>
                                    <a href="#" onclick="event.preventDefault(); assignTask(3)"><i
                                            class="fas fa-user-plus"></i> Assign</a>
                                    <a href="#" onclick="event.preventDefault(); addTaskComment(3)"><i
                                            class="fas fa-comment"></i> Add Comment</a>
                                    <a href="#" onclick="event.preventDefault(); deleteTask(3)" class="danger"><i
                                            class="fas fa-trash"></i> Delete</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="task-card high" id="task-4">
                    <div class="task-header">
                        <h3 class="task-title">Utility Connections</h3>
                        <span class="task-priority priority-high">High</span>
                    </div>
                    <p class="task-description">Install water, sewer, and electrical connections</p>

                    <div class="task-dependencies">
                        <strong>Depends on:</strong> Site Preparation
                    </div>

                    <div class="task-meta">
                        <span><i class="fas fa-project-diagram"></i> Residential Housing Development</span>
                        <span><i class="far fa-calendar"></i> Due: Apr 14, 2024</span>

                    </div>
                    <div class="task-footer">
                        <span class="task-status status-in-progress">In Progress</span>
                        <div class="task-actions">
                            <button class="btn btn-outline btn-sm" onclick="editTask(4)">
                                <i class="fas fa-edit"></i> Edit
                            </button>
                            <div class="dropdown">
                                <button class="btn btn-outline btn-sm dropdown-toggle" data-task-id="4">
                                    <i class="fas fa-ellipsis-v"></i>
                                </button>
                                <div class="dropdown-menu" id="dropdown-4">
                                    <a href="#" onclick="event.preventDefault(); viewTaskDetails(4)"><i
                                            class="fas fa-eye"></i> View Details</a>
                                    <a href="#" onclick="event.preventDefault(); editTask(4)"><i
                                            class="fas fa-edit"></i> Edit Task</a>
                                    <a href="#" onclick="event.preventDefault(); startTask(4)"><i
                                            class="fas fa-play"></i> Start Task</a>
                                    <a href="#" onclick="event.preventDefault(); completeTask(4)"><i
                                            class="fas fa-check"></i> Mark Complete</a>
                                    <a href="#" onclick="event.preventDefault(); assignTask(4)"><i
                                            class="fas fa-user-plus"></i> Assign</a>
                                    <a href="#" onclick="event.preventDefault(); addTaskComment(4)"><i
                                            class="fas fa-comment"></i> Add Comment</a>
                                    <a href="#" onclick="event.preventDefault(); deleteTask(4)" class="danger"><i
                                            class="fas fa-trash"></i> Delete</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="task-card medium" id="task-1755444165861">
                    <div class="task-header">
                        <h3 class="task-title">Foundation Excavation</h3>
                        <span class="task-priority priority-medium">Medium</span>
                    </div>
                    <p class="task-description">sdfsdfsdsdfsdf</p>

                    <div class="task-meta">
                        <span><i class="fas fa-project-diagram"></i> Highway Infrastructure Upgrade</span>
                        <span><i class="far fa-calendar"></i> Due: Aug 19, 2025</span>
                        <span><i class="fas fa-user"></i> Maria Garcia</span>
                    </div>
                    <div class="task-footer">
                        <span class="task-status status-in-progress">In Progress</span>
                        <div class="task-actions">
                            <button class="btn btn-outline btn-sm" onclick="editTask(1755444165861)">
                                <i class="fas fa-edit"></i> Edit
                            </button>
                            <div class="dropdown">
                                <button class="btn btn-outline btn-sm dropdown-toggle" data-task-id="1755444165861">
                                    <i class="fas fa-ellipsis-v"></i>
                                </button>
                                <div class="dropdown-menu" id="dropdown-1755444165861">
                                    <a href="#" onclick="event.preventDefault(); viewTaskDetails(1755444165861)"><i
                                            class="fas fa-eye"></i> View Details</a>
                                    <a href="#" onclick="event.preventDefault(); editTask(1755444165861)"><i
                                            class="fas fa-edit"></i> Edit Task</a>
                                    <a href="#" onclick="event.preventDefault(); startTask(1755444165861)"><i
                                            class="fas fa-play"></i> Start Task</a>
                                    <a href="#" onclick="event.preventDefault(); completeTask(1755444165861)"><i
                                            class="fas fa-check"></i> Mark Complete</a>
                                    <a href="#" onclick="event.preventDefault(); assignTask(1755444165861)"><i
                                            class="fas fa-user-plus"></i> Assign</a>
                                    <a href="#" onclick="event.preventDefault(); addTaskComment(1755444165861)"><i
                                            class="fas fa-comment"></i> Add Comment</a>
                                    <a href="#" onclick="event.preventDefault(); deleteTask(1755444165861)"
                                        class="danger"><i class="fas fa-trash"></i> Delete</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="task-card high" id="task-1755469400468">
                    <div class="task-header">
                        <h3 class="task-title">broken glass on the windows</h3>
                        <span class="task-priority priority-high">High</span>
                    </div>
                    <p class="task-description">there is broken glass on the windows. need to send it to the right
                        people</p>

                    <div class="task-meta">
                        <span><i class="fas fa-project-diagram"></i> ertwert</span>
                        <span><i class="far fa-calendar"></i> Due: Aug 28, 2025</span>
                        <span><i class="fas fa-user"></i> Maria Garcia</span>
                    </div>
                    <div class="task-footer">
                        <span class="task-status status-in-progress">In Progress</span>
                        <div class="task-actions">
                            <button class="btn btn-outline btn-sm" onclick="editTask(1755469400468)">
                                <i class="fas fa-edit"></i> Edit
                            </button>
                            <div class="dropdown">
                                <button class="btn btn-outline btn-sm dropdown-toggle" data-task-id="1755469400468">
                                    <i class="fas fa-ellipsis-v"></i>
                                </button>
                                <div class="dropdown-menu" id="dropdown-1755469400468">
                                    <a href="#" onclick="event.preventDefault(); viewTaskDetails(1755469400468)"><i
                                            class="fas fa-eye"></i> View Details</a>
                                    <a href="#" onclick="event.preventDefault(); editTask(1755469400468)"><i
                                            class="fas fa-edit"></i> Edit Task</a>
                                    <a href="#" onclick="event.preventDefault(); startTask(1755469400468)"><i
                                            class="fas fa-play"></i> Start Task</a>
                                    <a href="#" onclick="event.preventDefault(); completeTask(1755469400468)"><i
                                            class="fas fa-check"></i> Mark Complete</a>
                                    <a href="#" onclick="event.preventDefault(); assignTask(1755469400468)"><i
                                            class="fas fa-user-plus"></i> Assign</a>
                                    <a href="#" onclick="event.preventDefault(); addTaskComment(1755469400468)"><i
                                            class="fas fa-comment"></i> Add Comment</a>
                                    <a href="#" onclick="event.preventDefault(); deleteTask(1755469400468)"
                                        class="danger"><i class="fas fa-trash"></i> Delete</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="task-card low" id="task-1755469447811">
                    <div class="task-header">
                        <h3 class="task-title">install overhead garage doors</h3>
                        <span class="task-priority priority-low">Low</span>
                    </div>
                    <p class="task-description">install overhead garage doors. Call the right person to do that</p>

                    <div class="task-dependencies">
                        <strong>Depends on:</strong> Steel Framework Installation
                    </div>

                    <div class="task-meta">
                        <span><i class="fas fa-project-diagram"></i> ertwert</span>
                        <span><i class="far fa-calendar"></i> Due: Sep 4, 2025</span>
                        <span><i class="fas fa-user"></i> David Johnson</span>
                    </div>
                    <div class="task-footer">
                        <span class="task-status status-in-progress">In Progress</span>
                        <div class="task-actions">
                            <button class="btn btn-outline btn-sm" onclick="editTask(1755469447811)">
                                <i class="fas fa-edit"></i> Edit
                            </button>
                            <div class="dropdown">
                                <button class="btn btn-outline btn-sm dropdown-toggle" data-task-id="1755469447811">
                                    <i class="fas fa-ellipsis-v"></i>
                                </button>
                                <div class="dropdown-menu" id="dropdown-1755469447811">
                                    <a href="#" onclick="event.preventDefault(); viewTaskDetails(1755469447811)"><i
                                            class="fas fa-eye"></i> View Details</a>
                                    <a href="#" onclick="event.preventDefault(); editTask(1755469447811)"><i
                                            class="fas fa-edit"></i> Edit Task</a>
                                    <a href="#" onclick="event.preventDefault(); startTask(1755469447811)"><i
                                            class="fas fa-play"></i> Start Task</a>
                                    <a href="#" onclick="event.preventDefault(); completeTask(1755469447811)"><i
                                            class="fas fa-check"></i> Mark Complete</a>
                                    <a href="#" onclick="event.preventDefault(); assignTask(1755469447811)"><i
                                            class="fas fa-user-plus"></i> Assign</a>
                                    <a href="#" onclick="event.preventDefault(); addTaskComment(1755469447811)"><i
                                            class="fas fa-comment"></i> Add Comment</a>
                                    <a href="#" onclick="event.preventDefault(); deleteTask(1755469447811)"
                                        class="danger"><i class="fas fa-trash"></i> Delete</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="task-card low" id="task-1755469501000">
                    <div class="task-header">
                        <h3 class="task-title">pump out the water from the heavy rain from the trenches</h3>
                        <span class="task-priority priority-low">Low</span>
                    </div>
                    <p class="task-description">pump out the water from the heavy rain in the trenches</p>

                    <div class="task-dependencies">
                        <strong>Depends on:</strong> Foundation Excavation
                    </div>

                    <div class="task-meta">
                        <span><i class="fas fa-project-diagram"></i> ertwert</span>
                        <span><i class="far fa-calendar"></i> Due: Aug 16, 2025</span>
                        <span><i class="fas fa-user"></i> David Johnson</span>
                    </div>
                    <div class="task-footer">
                        <span class="task-status status-in-progress">In Progress</span>
                        <div class="task-actions">
                            <button class="btn btn-outline btn-sm" onclick="editTask(1755469501000)">
                                <i class="fas fa-edit"></i> Edit
                            </button>
                            <div class="dropdown">
                                <button class="btn btn-outline btn-sm dropdown-toggle" data-task-id="1755469501000">
                                    <i class="fas fa-ellipsis-v"></i>
                                </button>
                                <div class="dropdown-menu" id="dropdown-1755469501000">
                                    <a href="#" onclick="event.preventDefault(); viewTaskDetails(1755469501000)"><i
                                            class="fas fa-eye"></i> View Details</a>
                                    <a href="#" onclick="event.preventDefault(); editTask(1755469501000)"><i
                                            class="fas fa-edit"></i> Edit Task</a>
                                    <a href="#" onclick="event.preventDefault(); startTask(1755469501000)"><i
                                            class="fas fa-play"></i> Start Task</a>
                                    <a href="#" onclick="event.preventDefault(); completeTask(1755469501000)"><i
                                            class="fas fa-check"></i> Mark Complete</a>
                                    <a href="#" onclick="event.preventDefault(); assignTask(1755469501000)"><i
                                            class="fas fa-user-plus"></i> Assign</a>
                                    <a href="#" onclick="event.preventDefault(); addTaskComment(1755469501000)"><i
                                            class="fas fa-comment"></i> Add Comment</a>
                                    <a href="#" onclick="event.preventDefault(); deleteTask(1755469501000)"
                                        class="danger"><i class="fas fa-trash"></i> Delete</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Calendar Tab -->
        <section id="calendar" class="tab-content">
            <div class="page-header">
                <h1>Project Calendar</h1>
                <div class="calendar-controls">
                    <button class="btn btn-outline" id="prevMonth">
                        <i class="fas fa-chevron-left"></i>
                    </button>
                    <h2 id="currentMonthYear">August 2025</h2>
                    <button class="btn btn-outline" id="nextMonth">
                        <i class="fas fa-chevron-right"></i>
                    </button>
                    <button class="btn btn-primary" id="todayBtn">
                        <i class="fas fa-calendar-day"></i> Today
                    </button>
                </div>
            </div>

            <!-- Calendar Filters -->
            <div class="calendar-filters">
                <select id="calendarProjectFilter">
                    <option value="">All Projects</option>
                    <option value="1">Downtown Office Complex</option>
                    <option value="2">Residential Housing Development</option>
                    <option value="3">Highway Infrastructure Upgrade</option>
                    <option value="1755445560544">Building 5 livingston north</option>
                    <option value="1755445578915">ertwert</option>
                </select>
                <select id="calendarViewFilter">
                    <option value="month">Month View</option>
                    <option value="week">Week View</option>
                    <option value="timeline">Timeline View</option>
                </select>
            </div>

            <!-- Calendar Container -->
            <div class="calendar-container">
                <div class="calendar-view" id="calendarView" style="display: block;">
                    <table class="month-calendar">
                        <thead>
                            <tr>
                                <th>Sun</th>
                                <th>Mon</th>
                                <th>Tue</th>
                                <th>Wed</th>
                                <th>Thu</th>
                                <th>Fri</th>
                                <th>Sat</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>
                                    <div class="calendar-day other-month">27</div>
                                    <div class="calendar-tasks">


                                    </div>
                                </td>

                                <td>
                                    <div class="calendar-day other-month">28</div>
                                    <div class="calendar-tasks">


                                    </div>
                                </td>

                                <td>
                                    <div class="calendar-day other-month">29</div>
                                    <div class="calendar-tasks">


                                    </div>
                                </td>

                                <td>
                                    <div class="calendar-day other-month">30</div>
                                    <div class="calendar-tasks">


                                    </div>
                                </td>

                                <td>
                                    <div class="calendar-day other-month">31</div>
                                    <div class="calendar-tasks">


                                    </div>
                                </td>

                                <td>
                                    <div class="calendar-day">1</div>
                                    <div class="calendar-tasks">


                                    </div>
                                </td>

                                <td>
                                    <div class="calendar-day">2</div>
                                    <div class="calendar-tasks">


                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <div class="calendar-day">3</div>
                                    <div class="calendar-tasks">


                                    </div>
                                </td>

                                <td>
                                    <div class="calendar-day">4</div>
                                    <div class="calendar-tasks">


                                    </div>
                                </td>

                                <td>
                                    <div class="calendar-day">5</div>
                                    <div class="calendar-tasks">


                                    </div>
                                </td>

                                <td>
                                    <div class="calendar-day">6</div>
                                    <div class="calendar-tasks">


                                    </div>
                                </td>

                                <td>
                                    <div class="calendar-day">7</div>
                                    <div class="calendar-tasks">


                                    </div>
                                </td>

                                <td>
                                    <div class="calendar-day">8</div>
                                    <div class="calendar-tasks">


                                    </div>
                                </td>

                                <td>
                                    <div class="calendar-day">9</div>
                                    <div class="calendar-tasks">


                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <div class="calendar-day">10</div>
                                    <div class="calendar-tasks">


                                    </div>
                                </td>

                                <td>
                                    <div class="calendar-day">11</div>
                                    <div class="calendar-tasks">


                                    </div>
                                </td>

                                <td>
                                    <div class="calendar-day">12</div>
                                    <div class="calendar-tasks">


                                    </div>
                                </td>

                                <td>
                                    <div class="calendar-day">13</div>
                                    <div class="calendar-tasks">


                                    </div>
                                </td>

                                <td>
                                    <div class="calendar-day">14</div>
                                    <div class="calendar-tasks">


                                    </div>
                                </td>

                                <td>
                                    <div class="calendar-day">15</div>
                                    <div class="calendar-tasks">


                                    </div>
                                </td>

                                <td>
                                    <div class="calendar-day">16</div>
                                    <div class="calendar-tasks">


                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <div class="calendar-day">17</div>
                                    <div class="calendar-tasks">

                                        <div class="calendar-task low" onclick="viewTaskFromCalendar(1755469501000)"
                                            title="pump out the water from the heavy rain from the trenches">
                                            pump out the water from the heavy rain from the trenches
                                        </div>


                                    </div>
                                </td>

                                <td>
                                    <div class="calendar-day today">18</div>
                                    <div class="calendar-tasks">


                                    </div>
                                </td>

                                <td>
                                    <div class="calendar-day">19</div>
                                    <div class="calendar-tasks">


                                    </div>
                                </td>

                                <td>
                                    <div class="calendar-day">20</div>
                                    <div class="calendar-tasks">

                                        <div class="calendar-task medium" onclick="viewTaskFromCalendar(1755444165861)"
                                            title="Foundation Excavation">
                                            Foundation Excavation
                                        </div>


                                    </div>
                                </td>

                                <td>
                                    <div class="calendar-day">21</div>
                                    <div class="calendar-tasks">


                                    </div>
                                </td>

                                <td>
                                    <div class="calendar-day">22</div>
                                    <div class="calendar-tasks">


                                    </div>
                                </td>

                                <td>
                                    <div class="calendar-day">23</div>
                                    <div class="calendar-tasks">


                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <div class="calendar-day">24</div>
                                    <div class="calendar-tasks">


                                    </div>
                                </td>

                                <td>
                                    <div class="calendar-day">25</div>
                                    <div class="calendar-tasks">


                                    </div>
                                </td>

                                <td>
                                    <div class="calendar-day">26</div>
                                    <div class="calendar-tasks">


                                    </div>
                                </td>

                                <td>
                                    <div class="calendar-day">27</div>
                                    <div class="calendar-tasks">


                                    </div>
                                </td>

                                <td>
                                    <div class="calendar-day">28</div>
                                    <div class="calendar-tasks">


                                    </div>
                                </td>

                                <td>
                                    <div class="calendar-day">29</div>
                                    <div class="calendar-tasks">

                                        <div class="calendar-task high" onclick="viewTaskFromCalendar(1755469400468)"
                                            title="broken glass on the windows">
                                            broken glass on the windows
                                        </div>


                                    </div>
                                </td>

                                <td>
                                    <div class="calendar-day">30</div>
                                    <div class="calendar-tasks">


                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <div class="calendar-day">31</div>
                                    <div class="calendar-tasks">


                                    </div>
                                </td>

                                <td>
                                    <div class="calendar-day other-month">1</div>
                                    <div class="calendar-tasks">


                                    </div>
                                </td>

                                <td>
                                    <div class="calendar-day other-month">2</div>
                                    <div class="calendar-tasks">


                                    </div>
                                </td>

                                <td>
                                    <div class="calendar-day other-month">3</div>
                                    <div class="calendar-tasks">


                                    </div>
                                </td>

                                <td>
                                    <div class="calendar-day other-month">4</div>
                                    <div class="calendar-tasks">


                                    </div>
                                </td>

                                <td>
                                    <div class="calendar-day other-month">5</div>
                                    <div class="calendar-tasks">

                                        <div class="calendar-task low" onclick="viewTaskFromCalendar(1755469447811)"
                                            title="install overhead garage doors">
                                            install overhead garage doors
                                        </div>


                                    </div>
                                </td>

                                <td>
                                    <div class="calendar-day other-month">6</div>
                                    <div class="calendar-tasks">


                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="timeline-view" id="timelineView" style="display: none;">
                    <!-- Timeline will be loaded here -->
                </div>
            </div>
        </section>
        <!-- Add this new section for daily reports -->
        <section id="daily-reports" class="tab-content">
            <div class="page-header">
                <h1>Daily Progress Reports</h1>
                <button class="btn btn-primary" id="addDailyReportBtn">
                    <i class="fas fa-plus"></i> New Report
                </button>
                <div class="report-actions">
                    <button class="btn btn-outline" onclick="exportReports('csv')" style="margin-left: 1rem;">
                        <i class="fas fa-file-csv"></i> Export CSV
                    </button>
                    <button class="btn btn-outline" onclick="exportReports('pdf')" style="margin-left: 0.5rem;">
                        <i class="fas fa-file-pdf"></i> Export PDF
                    </button>
                </div>
            </div>

            <!-- Report Filters -->
            <div class="report-filters">
                <select id="reportProjectFilter">
                    <option value="">All Projects</option>
                    <option value="1">Downtown Office Complex</option>
                    <option value="2">Residential Housing Development</option>
                    <option value="3">Highway Infrastructure Upgrade</option>
                    <option value="1755445560544">Building 5 livingston north</option>
                    <option value="1755445578915">ertwert</option>
                </select>
                <input type="date" id="reportDateFilter" placeholder="Filter by date">
                <select id="reportStatusFilter">
                    <option value="">All Statuses</option>
                    <option value="draft">Draft</option>
                    <option value="submitted">Submitted</option>
                    <option value="approved">Approved</option>
                </select>
                <button class="btn btn-outline" id="clearFiltersBtn">
                    <i class="fas fa-times"></i> Clear
                </button>
            </div>

            <!-- Reports List -->
            <div id="reportsContainer">
                <div class="report-card approved" id="report-1755460998708">
                    <div class="report-header">
                        <div>
                            <h3 class="report-title">Building 5 livingston north</h3>
                            <p class="report-date">Aug 26, 2025</p>
                        </div>
                        <span class="report-status status-approved">
                            Approved
                        </span>
                    </div>

                    <div class="report-meta">
                        <span><i class="fas fa-users"></i> 9 workers</span>
                        <span><i class="fas fa-clock"></i> 3 hours</span>
                    </div>

                    <div class="report-section">
                        <h4><i class="fas fa-tasks"></i> Tasks Completed</h4>
                        <ul>
                            <li>fhgjhgjfhgjfghjfhg</li>
                        </ul>
                    </div>

                    <div class="report-section">
                        <h4><i class="fas fa-cloud-sun"></i> Weather</h4>
                        <p>sunny - fghjfghjfghjfghjfgh</p>
                    </div>


                    <div class="report-section">
                        <h4><i class="fas fa-sticky-note"></i> Notes</h4>
                        <p>fghjfghjfghjfghjfhg</p>
                    </div>


                    <div class="report-actions">
                        <button class="btn btn-outline btn-sm" onclick="viewReportDetails(1755460998708)">
                            <i class="fas fa-eye"></i> View
                        </button>
                        <button class="btn btn-outline btn-sm" onclick="editReport(1755460998708)">
                            <i class="fas fa-edit"></i> Edit
                        </button>

                    </div>
                </div>

                <div class="report-card approved" id="report-1755460962324">
                    <div class="report-header">
                        <div>
                            <h3 class="report-title">Residential Housing Development</h3>
                            <p class="report-date">Aug 17, 2025</p>
                        </div>
                        <span class="report-status status-approved">
                            Approved
                        </span>
                    </div>

                    <div class="report-meta">
                        <span><i class="fas fa-users"></i> 8 workers</span>
                        <span><i class="fas fa-clock"></i> 19 hours</span>
                    </div>

                    <div class="report-section">
                        <h4><i class="fas fa-tasks"></i> Tasks Completed</h4>
                        <ul>
                            <li>asdfasdfasdfasdfasdwf</li>
                        </ul>
                    </div>

                    <div class="report-section">
                        <h4><i class="fas fa-cloud-sun"></i> Weather</h4>
                        <p>cloudy - sadfasdfasdfasdfasdf</p>
                    </div>


                    <div class="report-section">
                        <h4><i class="fas fa-sticky-note"></i> Notes</h4>
                        <p>sdfaasdfasdfasdfsdaf</p>
                    </div>


                    <div class="report-actions">
                        <button class="btn btn-outline btn-sm" onclick="viewReportDetails(1755460962324)">
                            <i class="fas fa-eye"></i> View
                        </button>
                        <button class="btn btn-outline btn-sm" onclick="editReport(1755460962324)">
                            <i class="fas fa-edit"></i> Edit
                        </button>

                    </div>
                </div>

                <div class="report-card approved" id="report-1755460911776">
                    <div class="report-header">
                        <div>
                            <h3 class="report-title">Downtown Office Complex</h3>
                            <p class="report-date">Aug 16, 2025</p>
                        </div>
                        <span class="report-status status-approved">
                            Approved
                        </span>
                    </div>

                    <div class="report-meta">
                        <span><i class="fas fa-users"></i> 5 workers</span>
                        <span><i class="fas fa-clock"></i> 8 hours</span>
                    </div>

                    <div class="report-section">
                        <h4><i class="fas fa-tasks"></i> Tasks Completed</h4>
                        <ul>
                            <li>sfsdfsdfsdfsdfsdfsdfsd</li>
                        </ul>
                    </div>

                    <div class="report-section">
                        <h4><i class="fas fa-cloud-sun"></i> Weather</h4>
                        <p>rainy - fdghfdghdfghfdghfdg</p>
                    </div>


                    <div class="report-section">
                        <h4><i class="fas fa-sticky-note"></i> Notes</h4>
                        <p>fdghdfghdfghdfghdfghdfghgf</p>
                    </div>


                    <div class="report-actions">
                        <button class="btn btn-outline btn-sm" onclick="viewReportDetails(1755460911776)">
                            <i class="fas fa-eye"></i> View
                        </button>
                        <button class="btn btn-outline btn-sm" onclick="editReport(1755460911776)">
                            <i class="fas fa-edit"></i> Edit
                        </button>

                    </div>
                </div>

                <div class="report-card approved" id="report-1755470612243">
                    <div class="report-header">
                        <div>
                            <h3 class="report-title">ertwert</h3>
                            <p class="report-date">Aug 16, 2025</p>
                        </div>
                        <span class="report-status status-approved">
                            Approved
                        </span>
                    </div>

                    <div class="report-meta">
                        <span><i class="fas fa-users"></i> 7 workers</span>
                        <span><i class="fas fa-clock"></i> 45 hours</span>
                    </div>

                    <div class="report-section">
                        <h4><i class="fas fa-tasks"></i> Tasks Completed</h4>
                        <ul>
                            <li>sdfgfdsgfsdgsdfgdfsgf</li>
                        </ul>
                    </div>

                    <div class="report-section">
                        <h4><i class="fas fa-cloud-sun"></i> Weather</h4>
                        <p>cloudy - sdfgfsdgsdfgfsd</p>
                    </div>


                    <div class="report-section">
                        <h4><i class="fas fa-sticky-note"></i> Notes</h4>
                        <p>sdfgsdfgsdfgsfdgsfd</p>
                    </div>


                    <div class="report-actions">
                        <button class="btn btn-outline btn-sm" onclick="viewReportDetails(1755470612243)">
                            <i class="fas fa-eye"></i> View
                        </button>
                        <button class="btn btn-outline btn-sm" onclick="editReport(1755470612243)">
                            <i class="fas fa-edit"></i> Edit
                        </button>

                    </div>
                </div>

                <div class="report-card approved" id="report-1755470642624">
                    <div class="report-header">
                        <div>
                            <h3 class="report-title">ertwert</h3>
                            <p class="report-date">Aug 16, 2025</p>
                        </div>
                        <span class="report-status status-approved">
                            Approved
                        </span>
                    </div>

                    <div class="report-meta">
                        <span><i class="fas fa-users"></i> 5 workers</span>
                        <span><i class="fas fa-clock"></i> 2 hours</span>
                    </div>

                    <div class="report-section">
                        <h4><i class="fas fa-tasks"></i> Tasks Completed</h4>
                        <ul>
                            <li>3dfgsdfgsdfgsdf</li>
                        </ul>
                    </div>

                    <div class="report-section">
                        <h4><i class="fas fa-cloud-sun"></i> Weather</h4>
                        <p>cloudy - sdfgsdfgsdfgsfdg</p>
                    </div>


                    <div class="report-section">
                        <h4><i class="fas fa-sticky-note"></i> Notes</h4>
                        <p>sdfgsdfgsdfgsdfgsdf</p>
                    </div>


                    <div class="report-actions">
                        <button class="btn btn-outline btn-sm" onclick="viewReportDetails(1755470642624)">
                            <i class="fas fa-eye"></i> View
                        </button>
                        <button class="btn btn-outline btn-sm" onclick="editReport(1755470642624)">
                            <i class="fas fa-edit"></i> Edit
                        </button>

                    </div>
                </div>
            </div>
        </section>
        <!-- Add this new section for weekly reports -->
        <section id="weekly-reports" class="tab-content">
            <div class="page-header">
                <h1>Weekly Intelligence Reports</h1>
            </div>

            <!-- Report Filters -->
            <div class="report-filters">
                <select id="weeklyProjectFilter">
                    <option value="">All Projects</option>
                    <option value="1">Downtown Office Complex</option>
                    <option value="2">Residential Housing Development</option>
                    <option value="3">Highway Infrastructure Upgrade</option>
                    <option value="1755445560544">Building 5 livingston north</option>
                    <option value="1755445578915">ertwert</option>
                </select>
            </div>

            <!-- Weekly Reports List -->
            <div class="weekly-reports-container" id="weeklyReportsContainer">
                <div class="weekly-report-card" data-week="2025-08-18" data-reports="1">
                    <div class="weekly-report-header">
                        <h3>Week of Aug 17, 2025</h3>
                        <span class="week-range">Aug 17, 2025 - Aug 23, 2025</span>
                        <span class="report-count">1 daily reports</span>
                    </div>

                    <div class="weekly-summary-stats">
                        <div class="stat-item">
                            <span class="stat-label">Man-hours</span>
                            <span class="stat-value">152</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">Tasks Completed</span>
                            <span class="stat-value">1</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">Days Reported</span>
                            <span class="stat-value">1/7</span>
                        </div>
                    </div>

                    <div class="weekly-metrics-grid">
                        <div class="metric-card">
                            <div class="metric-icon bg-blue">
                                <i class="fas fa-chart-line"></i>
                            </div>
                            <div class="metric-content">
                                <div class="metric-value">0.01</div>
                                <div class="metric-label">Tasks/Man-hour</div>
                                <div class="metric-trend neutral">
                                    <i class="fas fa-equals"></i>
                                    stable
                                </div>
                            </div>
                        </div>

                        <div class="metric-card">
                            <div class="metric-icon bg-green">
                                <i class="fas fa-hard-hat"></i>
                            </div>
                            <div class="metric-content">
                                <div class="metric-value">0</div>
                                <div class="metric-label">Safety Incidents</div>
                                <div class="metric-trend neutral">
                                    <i class="fas fa-equals"></i>
                                    stable
                                </div>
                            </div>
                        </div>

                        <div class="metric-card">
                            <div class="metric-icon bg-purple">
                                <i class="fas fa-clipboard-check"></i>
                            </div>
                            <div class="metric-content">
                                <div class="metric-value">100%</div>
                                <div class="metric-label">Quality Score</div>
                                <div class="metric-trend neutral">
                                    <i class="fas fa-equals"></i>
                                    stable
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="weekly-highlights">
                        <h4><i class="fas fa-star"></i> Highlights</h4>

                        <ul>

                            <li class="positive">
                                <i class="fas fa-check-circle"></i>
                                Zero safety incidents this week
                            </li>

                            <li class="positive">
                                <i class="fas fa-check-circle"></i>
                                Excellent quality score: 100.0%
                            </li>

                        </ul>

                    </div>

                    <div class="weekly-actions">
                        <button class="btn btn-outline" onclick="viewWeeklyReportDetails('2025-08-18', null)">
                            <i class="fas fa-file-alt"></i> View Full Report
                        </button>
                        <button class="btn btn-outline" onclick="viewDailyReportsForWeek('2025-08-18', null)">
                            <i class="fas fa-list"></i> Daily Reports (1)
                        </button>
                        <button class="btn btn-primary" onclick="exportWeeklyReport('2025-08-18', null)">
                            <i class="fas fa-download"></i> Export
                        </button>
                    </div>
                </div>

                <div class="weekly-report-card" data-week="2025-08-11" data-reports="3">
                    <div class="weekly-report-header">
                        <h3>Week of Aug 10, 2025</h3>
                        <span class="week-range">Aug 10, 2025 - Aug 16, 2025</span>
                        <span class="report-count">3 daily reports</span>
                    </div>

                    <div class="weekly-summary-stats">
                        <div class="stat-item">
                            <span class="stat-label">Man-hours</span>
                            <span class="stat-value">365</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">Tasks Completed</span>
                            <span class="stat-value">3</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">Days Reported</span>
                            <span class="stat-value">1/7</span>
                        </div>
                    </div>

                    <div class="weekly-metrics-grid">
                        <div class="metric-card">
                            <div class="metric-icon bg-blue">
                                <i class="fas fa-chart-line"></i>
                            </div>
                            <div class="metric-content">
                                <div class="metric-value">0.01</div>
                                <div class="metric-label">Tasks/Man-hour</div>
                                <div class="metric-trend positive">
                                    <i class="fas fa-arrow-up"></i>
                                    improving
                                </div>
                            </div>
                        </div>

                        <div class="metric-card">
                            <div class="metric-icon bg-green">
                                <i class="fas fa-hard-hat"></i>
                            </div>
                            <div class="metric-content">
                                <div class="metric-value">0</div>
                                <div class="metric-label">Safety Incidents</div>
                                <div class="metric-trend neutral">
                                    <i class="fas fa-equals"></i>
                                    stable
                                </div>
                            </div>
                        </div>

                        <div class="metric-card">
                            <div class="metric-icon bg-purple">
                                <i class="fas fa-clipboard-check"></i>
                            </div>
                            <div class="metric-content">
                                <div class="metric-value">100%</div>
                                <div class="metric-label">Quality Score</div>
                                <div class="metric-trend neutral">
                                    <i class="fas fa-equals"></i>
                                    stable
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="weekly-highlights">
                        <h4><i class="fas fa-star"></i> Highlights</h4>

                        <ul>

                            <li class="positive">
                                <i class="fas fa-check-circle"></i>
                                Zero safety incidents this week
                            </li>

                            <li class="positive">
                                <i class="fas fa-check-circle"></i>
                                Excellent quality score: 100.0%
                            </li>

                        </ul>

                    </div>

                    <div class="weekly-actions">
                        <button class="btn btn-outline" onclick="viewWeeklyReportDetails('2025-08-11', null)">
                            <i class="fas fa-file-alt"></i> View Full Report
                        </button>
                        <button class="btn btn-outline" onclick="viewDailyReportsForWeek('2025-08-11', null)">
                            <i class="fas fa-list"></i> Daily Reports (3)
                        </button>
                        <button class="btn btn-primary" onclick="exportWeeklyReport('2025-08-11', null)">
                            <i class="fas fa-download"></i> Export
                        </button>
                    </div>
                </div>

                <div class="weekly-report-card" data-week="2025-08-04" data-reports="0">
                    <div class="weekly-report-header">
                        <h3>Week of No date set</h3>
                        <span class="week-range">No date set - No date set</span>
                        <span class="report-count">0 daily reports</span>
                    </div>

                    <div class="weekly-summary-stats">
                        <div class="stat-item">
                            <span class="stat-label">Man-hours</span>
                            <span class="stat-value">0</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">Tasks Completed</span>
                            <span class="stat-value">0</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">Days Reported</span>
                            <span class="stat-value">undefined/7</span>
                        </div>
                    </div>

                    <div class="weekly-metrics-grid">
                        <div class="metric-card">
                            <div class="metric-icon bg-blue">
                                <i class="fas fa-chart-line"></i>
                            </div>
                            <div class="metric-content">
                                <div class="metric-value">0</div>
                                <div class="metric-label">Tasks/Man-hour</div>
                                <div class="metric-trend neutral">
                                    <i class="fas fa-equals"></i>
                                    stable
                                </div>
                            </div>
                        </div>

                        <div class="metric-card">
                            <div class="metric-icon bg-green">
                                <i class="fas fa-hard-hat"></i>
                            </div>
                            <div class="metric-content">
                                <div class="metric-value">0</div>
                                <div class="metric-label">Safety Incidents</div>
                                <div class="metric-trend neutral">
                                    <i class="fas fa-equals"></i>
                                    stable
                                </div>
                            </div>
                        </div>

                        <div class="metric-card">
                            <div class="metric-icon bg-purple">
                                <i class="fas fa-clipboard-check"></i>
                            </div>
                            <div class="metric-content">
                                <div class="metric-value">100%</div>
                                <div class="metric-label">Quality Score</div>
                                <div class="metric-trend neutral">
                                    <i class="fas fa-equals"></i>
                                    stable
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="weekly-highlights">
                        <h4><i class="fas fa-star"></i> Highlights</h4>

                        <p class="no-highlights">No significant highlights this week</p>

                    </div>

                    <div class="weekly-actions">
                        <button class="btn btn-outline" onclick="viewWeeklyReportDetails('undefined', null)">
                            <i class="fas fa-file-alt"></i> View Full Report
                        </button>
                        <button class="btn btn-outline" onclick="viewDailyReportsForWeek('undefined', null)">
                            <i class="fas fa-list"></i> Daily Reports (0)
                        </button>
                        <button class="btn btn-primary" onclick="exportWeeklyReport('undefined', null)">
                            <i class="fas fa-download"></i> Export
                        </button>
                    </div>
                </div>

                <div class="weekly-report-card" data-week="2025-07-28" data-reports="0">
                    <div class="weekly-report-header">
                        <h3>Week of No date set</h3>
                        <span class="week-range">No date set - No date set</span>
                        <span class="report-count">0 daily reports</span>
                    </div>

                    <div class="weekly-summary-stats">
                        <div class="stat-item">
                            <span class="stat-label">Man-hours</span>
                            <span class="stat-value">0</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">Tasks Completed</span>
                            <span class="stat-value">0</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">Days Reported</span>
                            <span class="stat-value">undefined/7</span>
                        </div>
                    </div>

                    <div class="weekly-metrics-grid">
                        <div class="metric-card">
                            <div class="metric-icon bg-blue">
                                <i class="fas fa-chart-line"></i>
                            </div>
                            <div class="metric-content">
                                <div class="metric-value">0</div>
                                <div class="metric-label">Tasks/Man-hour</div>
                                <div class="metric-trend neutral">
                                    <i class="fas fa-equals"></i>
                                    stable
                                </div>
                            </div>
                        </div>

                        <div class="metric-card">
                            <div class="metric-icon bg-green">
                                <i class="fas fa-hard-hat"></i>
                            </div>
                            <div class="metric-content">
                                <div class="metric-value">0</div>
                                <div class="metric-label">Safety Incidents</div>
                                <div class="metric-trend neutral">
                                    <i class="fas fa-equals"></i>
                                    stable
                                </div>
                            </div>
                        </div>

                        <div class="metric-card">
                            <div class="metric-icon bg-purple">
                                <i class="fas fa-clipboard-check"></i>
                            </div>
                            <div class="metric-content">
                                <div class="metric-value">100%</div>
                                <div class="metric-label">Quality Score</div>
                                <div class="metric-trend neutral">
                                    <i class="fas fa-equals"></i>
                                    stable
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="weekly-highlights">
                        <h4><i class="fas fa-star"></i> Highlights</h4>

                        <p class="no-highlights">No significant highlights this week</p>

                    </div>

                    <div class="weekly-actions">
                        <button class="btn btn-outline" onclick="viewWeeklyReportDetails('undefined', null)">
                            <i class="fas fa-file-alt"></i> View Full Report
                        </button>
                        <button class="btn btn-outline" onclick="viewDailyReportsForWeek('undefined', null)">
                            <i class="fas fa-list"></i> Daily Reports (0)
                        </button>
                        <button class="btn btn-primary" onclick="exportWeeklyReport('undefined', null)">
                            <i class="fas fa-download"></i> Export
                        </button>
                    </div>
                </div>
            </div>
        </section>
        <!-- Daily Report Modal: Only show in Daily Reports tab -->
        <div id="dailyReportModal" class="modal" style="display:none;">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 id="reportModalTitle">Daily Progress Report</h2>
                    <span class="close"
                        onclick="window.app?.hideModal &amp;&amp; window.app.hideModal('dailyReportModal')"></span>
                </div>
                <div class="modal-body">
                    <form id="dailyReportForm">
                        <input type="hidden" id="reportId">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="reportDate">Date *</label>
                                <input type="date" id="reportDate" required="">
                            </div>
                            <div class="form-group">
                                <label for="reportProject">Project *</label>
                                <select id="reportProject" required="">
                                    <option value="">Select Project</option>
                                    <option value="1">Downtown Office Complex</option>
                                    <option value="2">Residential Housing Development</option>
                                    <option value="3">Highway Infrastructure Upgrade</option>
                                    <option value="1755445560544">Building 5 livingston north</option>
                                    <option value="1755445578915">ertwert</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="reportCrewType">Crew Type</label>
                            <select id="reportCrewType">
                                <option value="general">General Construction</option>
                                <option value="electrical">Electrical</option>
                                <option value="plumbing">Plumbing</option>
                                <option value="concrete">Concrete</option>
                                <option value="steel">Steel Framing</option>
                                <option value="other">Other</option>
                            </select>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="reportWorkers">Number of Workers *</label>
                                <input type="number" id="reportWorkers" min="1" required="">
                            </div>
                            <div class="form-group">
                                <label for="reportHoursWorked">Hours Worked *</label>
                                <input type="number" id="reportHoursWorked" min="1" step="0.5" required="">
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="reportTasksCompleted">Tasks Completed</label>
                            <textarea id="reportTasksCompleted" rows="4"
                                placeholder="List tasks completed today, one per line"></textarea>
                        </div>

                        <div class="form-group">
                            <label for="reportWeatherCondition">Weather Conditions</label>
                            <select id="reportWeatherCondition">
                                <option value="sunny">Sunny</option>
                                <option value="cloudy">Cloudy</option>
                                <option value="rainy">Rainy</option>
                                <option value="windy">Windy</option>
                                <option value="snow">Snow</option>
                                <option value="extreme">Extreme Weather</option>
                                <option value="other">Other</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="reportWeatherNotes">Weather Notes</label>
                            <textarea id="reportWeatherNotes" rows="2"
                                placeholder="Any weather-related impacts on work"></textarea>
                        </div>

                        <div class="form-group">
                            <label for="reportNotes">Additional Notes</label>
                            <textarea id="reportNotes" rows="3"
                                placeholder="Any other important information"></textarea>
                        </div>

                        <div class="form-actions">
                            <button type="button" class="btn btn-secondary" id="cancelReport">Cancel</button>
                            <button type="submit" class="btn btn-primary">Save Report</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <!-- Add this new section for visual analytics -->
        <section id="visual-analytics" class="tab-content">
            <div class="page-header">
                <h1>Visual Intelligence &amp; Analytics</h1>
            </div>

            <!-- Analytics Filters -->
            <div class="report-filters">
                <select id="visualProjectFilter">
                    <option value="">All Projects</option>
                    <option value="1">Downtown Office Complex</option>
                    <option value="2">Residential Housing Development</option>
                    <option value="3">Highway Infrastructure Upgrade</option>
                    <option value="1755445560544">Building 5 livingston north</option>
                    <option value="1755445578915">ertwert</option>
                </select>
            </div>

            <!-- Analytics Dashboard -->
            <div class="analytics-dashboard">
                <!-- Progress Overview -->
                <div class="analytics-section">
                    <h2><i class="fas fa-tachometer-alt"></i> Project Progress</h2>
                    <div class="progress-overview">
                        <div class="progress-chart-container">
                            <canvas id="progressChart" width="400" height="300"></canvas>
                        </div>
                        <div class="progress-details" id="progressText">
                            <h3>All Projects Progress</h3>
                            <p><strong>Total Tasks:</strong> 8</p>
                            <p><strong>Completed:</strong> 1</p>
                            <p><strong>Progress:</strong> 13%</p>
                            <div class="progress-bar-container">
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 13%; background: #ef4444"></div>
                                </div>
                                <span>13%</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Trend Analysis -->
                <div class="analytics-section">
                    <h2><i class="fas fa-chart-line"></i> Trend Analysis</h2>
                    <div class="trend-charts">
                        <div class="chart-container">
                            <h3>Productivity Trend (Tasks/Man-hour)</h3>
                            <canvas id="productivityChart" width="500" height="300"></canvas>
                        </div>
                        <div class="chart-container">
                            <h3>Safety Incidents Trend</h3>
                            <canvas id="safetyChart" width="500" height="300"></canvas>
                        </div>
                    </div>
                </div>

                <!-- Resource Utilization -->
                <div class="analytics-section">
                    <h2><i class="fas fa-industry"></i> Resource Utilization</h2>
                    <div class="resource-charts">
                        <div class="chart-container">
                            <h3>Weekly Man-hours</h3>
                            <canvas id="resourceChart" width="500" height="300"></canvas>
                        </div>
                    </div>
                </div>

                <!-- Forecasting -->
                <div class="analytics-section">
                    <h2><i class="fas fa-crystal-ball"></i> Predictive Analytics</h2>
                    <div class="forecasting-section">
                        <div class="forecast-card">
                            <h3>Completion Forecast</h3>
                            <p>Based on current trends, the project is on track to complete in <strong>8 weeks</strong>.
                            </p>
                            <div class="forecast-indicator positive">
                                <i class="fas fa-arrow-up"></i> 12% ahead of schedule
                            </div>
                        </div>
                        <div class="forecast-card">
                            <h3>Budget Forecast</h3>
                            <p>Current spending rate suggests final cost will be <strong>within budget</strong>.</p>
                            <div class="forecast-indicator positive">
                                <i class="fas fa-check"></i> On budget track
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <!-- Documents Tab -->
        <section id="documents" class="tab-content">
            <div class="page-header">
                <h1>Document Management</h1>
                <button class="btn btn-primary" id="uploadDocumentBtn">
                    <i class="fas fa-upload"></i> Upload Document
                </button>
            </div>

            <!-- Document Filters -->
            <div class="document-filters">
                <select id="documentProjectFilter">
                    <option value="">All Projects</option>
                    <option value="1">Downtown Office Complex</option>
                    <option value="2">Residential Housing Development</option>
                    <option value="3">Highway Infrastructure Upgrade</option>
                    <option value="1755445560544">Building 5 livingston north</option>
                    <option value="1755445578915">ertwert</option>
                </select>
                <select id="documentCategoryFilter">
                    <option value="">All Categories</option>
                    <option value="drawings">Drawings</option>
                    <option value="permits">Permits</option>
                    <option value="contracts">Contracts</option>
                    <option value="surveys">Surveys</option>
                    <option value="photos">Photos</option>
                    <option value="reports">Reports</option>
                    <option value="other">Other</option>
                </select>
                <input type="text" id="searchDocuments" placeholder="Search documents...">
            </div>


            <!-- Documents List -->
            <div class="documents-container" id="documentsContainer">
                <div class="empty-state-documents">
                    <i class="fas fa-file-alt"></i>
                    <h3>No Documents Found</h3>
                    <p>Try adjusting your filters or upload a new document.</p>
                    <button class="btn btn-primary" onclick="showDocumentModal()">
                        <i class="fas fa-upload"></i> Upload Document
                    </button>
                </div>
            </div>
        </section>

        <!-- Team Tab -->
        <section id="team" class="tab-content">
            <div class="page-header">
                <h1>Team Management</h1>
                <button class="btn btn-primary" id="addMemberBtn">
                    <i class="fas fa-plus"></i> Add Member
                </button>
            </div>

            <!-- Team Members Grid -->
            <div class="team-grid" id="teamContainer">
                <div class="team-member">
                    <img src="https://ui-avatars.com/api/?name=John%20Smith&amp;background=random" alt="John Smith"
                        class="member-avatar">
                    <h3 class="member-name">John Smith</h3>
                    <div class="member-role">Project Manager</div>
                    <div class="member-contact">
                        <div><i class="fas fa-envelope"></i> john.smith@company.com</div>
                        <div><i class="fas fa-phone"></i> +1 (555) 123-4567</div>
                    </div>
                    <div class="member-actions">
                        <button class="btn btn-outline" onclick="editMember(1)">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="btn btn-danger" onclick="deleteMember(1)">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                </div>

                <div class="team-member">
                    <img src="https://ui-avatars.com/api/?name=Maria%20Garcia&amp;background=random" alt="Maria Garcia"
                        class="member-avatar">
                    <h3 class="member-name">Maria Garcia</h3>
                    <div class="member-role">Site Supervisor</div>
                    <div class="member-contact">
                        <div><i class="fas fa-envelope"></i> maria.garcia@company.com</div>
                        <div><i class="fas fa-phone"></i> +1 (555) 234-5678</div>
                    </div>
                    <div class="member-actions">
                        <button class="btn btn-outline" onclick="editMember(2)">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="btn btn-danger" onclick="deleteMember(2)">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                </div>

                <div class="team-member">
                    <img src="https://ui-avatars.com/api/?name=David%20Johnson&amp;background=random"
                        alt="David Johnson" class="member-avatar">
                    <h3 class="member-name">David Johnson</h3>
                    <div class="member-role">Engineer</div>
                    <div class="member-contact">
                        <div><i class="fas fa-envelope"></i> david.johnson@company.com</div>
                        <div><i class="fas fa-phone"></i> +1 (555) 345-6789</div>
                    </div>
                    <div class="member-actions">
                        <button class="btn btn-outline" onclick="editMember(3)">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="btn btn-danger" onclick="deleteMember(3)">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Project Modal -->
    <div class="modal" id="projectModal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="projectModalTitle">Add New Project</h2>
                <span class="close"></span>
            </div>
            <div class="modal-body">
                <form id="projectForm">
                    <input type="hidden" id="projectId" value="">
                    <div class="form-group">
                        <label for="projectName">Project Name *</label>
                        <input type="text" id="projectName" required="">
                    </div>
                    <div class="form-group">
                        <label for="projectDescription">Description</label>
                        <textarea id="projectDescription" rows="3"></textarea>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="startDate">Start Date *</label>
                            <input type="date" id="startDate" required="">
                        </div>
                        <div class="form-group">
                            <label for="endDate">End Date *</label>
                            <input type="date" id="endDate" required="">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="projectStatus">Status</label>
                        <select id="projectStatus">
                            <option value="planning">Planning</option>
                            <option value="active">Active</option>
                            <option value="on-hold">On Hold</option>
                            <option value="completed">Completed</option>
                        </select>
                    </div>
                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary" id="cancelProject">Cancel</button>
                        <button type="submit" class="btn btn-primary">Save Project</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Task Modal -->
    <div class="modal" id="taskModal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="taskModalTitle">Add New Task</h2>
                <span class="close"></span>
            </div>
            <div class="modal-body">
                <form id="taskForm">
                    <input type="hidden" id="taskId">
                    <div class="form-group">
                        <label for="taskName">Task Name</label>
                        <input type="text" id="taskName" required="">
                    </div>
                    <div class="form-group">
                        <label for="taskDescription">Description</label>
                        <textarea id="taskDescription" rows="3"></textarea>
                    </div>
                    <div class="form-group">
                        <label for="taskProject">Project</label>
                        <select id="taskProject" required="">
                            <option value="">Select Project</option>
                        </select>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="taskDueDate">Due Date</label>
                            <input type="date" id="taskDueDate" required="">
                        </div>
                        <div class="form-group">
                            <label for="taskPriority">Priority</label>
                            <select id="taskPriority">
                                <option value="low">Low</option>
                                <option value="medium">Medium</option>
                                <option value="high">High</option>
                                <option value="critical">Critical</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="taskAssignee">Assign To</label>
                        <select id="taskAssignee">
                            <option value="">Unassigned</option>
                        </select>
                    </div>
                    <!-- Dependencies section - moved outside assignee div -->
                    <div class="form-group">
                        <label for="taskDependencies">Dependencies</label>
                        <select id="taskDependencies" multiple="" size="4">
                            <option value="">No dependencies</option>
                        </select>
                        <small class="form-text">Hold Ctrl/Cmd to select multiple tasks</small>
                    </div>
                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary" id="cancelTask">Cancel</button>
                        <button type="submit" class="btn btn-primary">Save Task</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Team Modal -->
    <div class="modal" id="teamModal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="teamModalTitle">Add Team Member</h2>
                <span class="close"></span>
            </div>
            <div class="modal-body">
                <form id="teamForm">
                    <input type="hidden" id="memberId">
                    <div class="form-group">
                        <label for="memberName">Full Name</label>
                        <input type="text" id="memberName" required="">
                    </div>
                    <div class="form-group">
                        <label for="memberEmail">Email</label>
                        <input type="email" id="memberEmail" required="">
                    </div>
                    <div class="form-group">
                        <label for="memberRole">Role</label>
                        <select id="memberRole" required="">
                            <option value="">Select Role</option>
                            <option value="project-manager">Project Manager</option>
                            <option value="site-supervisor">Site Supervisor</option>
                            <option value="engineer">Engineer</option>
                            <option value="foreman">Foreman</option>
                            <option value="worker">Worker</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="memberPhone">Phone</label>
                        <input type="tel" id="memberPhone">
                    </div>
                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary" id="cancelMember">Cancel</button>
                        <button type="submit" class="btn btn-primary">Save Member</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Task Details Modal -->
    <div class="modal" id="taskDetailsModal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="taskDetailsTitle">Task Details</h2>
                <span class="close" id="closeTaskDetails"></span>
            </div>
            <div class="modal-body" id="taskDetailsBody">
                <!-- Task details will be dynamically populated here -->
            </div>
        </div>
    </div>

    <!-- Project Details Modal -->
    <div class="modal" id="projectDetailsModal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="projectDetailsTitle">Project Details</h2>
                <span class="close" id="closeProjectDetails"></span>
            </div>
            <div class="modal-body" id="projectDetailsBody">
                <!-- Project details will be dynamically populated here -->
            </div>
        </div>
    </div>

    <!-- Document Upload Modal -->
    <div class="modal" id="documentModal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="documentModalTitle">Upload Document</h2>
                <span class="close"></span>
            </div>
            <div class="modal-body">
                <form id="documentForm">
                    <input type="hidden" id="documentId">
                    <div class="form-group">
                        <label for="documentProject">Project</label>
                        <select id="documentProject" required="">
                            <option value="">Select Project</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="documentName">Document Name</label>
                        <input type="text" id="documentName" required="">
                    </div>
                    <div class="form-group">
                        <label for="documentDescription">Description</label>
                        <textarea id="documentDescription" rows="3"></textarea>
                    </div>
                    <div class="form-group">
                        <label for="documentCategory">Category</label>
                        <select id="documentCategory" required="">
                            <option value="">Select Category</option>
                            <option value="drawings">Drawings</option>
                            <option value="permits">Permits</option>
                            <option value="contracts">Contracts</option>
                            <option value="surveys">Surveys</option>
                            <option value="photos">Photos</option>
                            <option value="reports">Reports</option>
                            <option value="other">Other</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="documentFile">File Upload</label>
                        <input type="file" id="documentFile"
                            accept=".pdf,.doc,.docx,.xls,.xlsx,.jpg,.jpeg,.png,.dwg,.dxf" required="">
                        <small class="form-text">Supported formats: PDF, DOC, DOCX, XLS, XLSX, JPG, PNG, DWG,
                            DXF</small>
                    </div>
                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary" id="cancelDocument">Cancel</button>
                        <button type="submit" class="btn btn-primary">Upload Document</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Notification Container -->
    <div class="notification" id="notification"></div>

    <!-- JavaScript Files -->
    <script src="js/utils.js"></script>
    <script src="js/main.js"></script>
    <script src="js/daily-reports.js"></script>
    <script src="js/weekly-analytics.js"></script>
    <script src="js/visual-analytics.js"></script>
    <script src="js/dashboard.js"></script>
    <script src="js/tasks.js"></script>
    <script src="js/team.js"></script>
    <script src="js/projects.js"></script>
    <script src="js/notifications.js"></script>
    <script src="js/documents.js"></script>
    <script src="js/calendar.js"></script>



</body>

</html>